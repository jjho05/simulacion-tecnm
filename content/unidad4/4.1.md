# 4.1 Lenguaje de simulación y simuladores

La elección de la herramienta de simulación es una decisión crítica que afecta el tiempo de desarrollo, la flexibilidad del modelo, el costo del proyecto y la calidad de los resultados. Esta sección presenta una taxonomía completa de las herramientas disponibles y criterios para su selección.

---

## Clasificación de Herramientas de Simulación

### 1. Lenguajes de Propósito General

Lenguajes de programación tradicionales adaptados para simulación mediante librerías especializadas.

#### Python con SimPy

**SimPy** es la librería más popular para simulación de eventos discretos en Python.

**Características:**
- Basada en generadores de Python
- Paradigma orientado a procesos
- Código abierto y gratuito
- Integración con NumPy, Pandas, Matplotlib

**Ejemplo básico:**

```python
import simpy
import numpy as np

def cliente(env, nombre, servidor, tiempo_servicio):
    """Proceso de un cliente en el sistema"""
    llegada = env.now
    print(f'{nombre} llega en t={llegada:.2f}')
    
    with servidor.request() as req:
        yield req  # Esperar por el servidor
        espera = env.now - llegada
        print(f'{nombre} espera {espera:.2f} min, inicia servicio en t={env.now:.2f}')
        
        yield env.timeout(tiempo_servicio)
        print(f'{nombre} termina en t={env.now:.2f}')

def generador_clientes(env, servidor):
    """Genera clientes con llegadas exponenciales"""
    i = 0
    while True:
        yield env.timeout(np.random.exponential(10))  # Llegadas cada 10 min promedio
        i += 1
        tiempo_serv = np.random.exponential(8)  # Servicio 8 min promedio
        env.process(cliente(env, f'Cliente {i}', servidor, tiempo_serv))

# Configurar simulación
env = simpy.Environment()
servidor = simpy.Resource(env, capacity=1)
env.process(generador_clientes(env, servidor))
env.run(until=100)
```

**Ventajas:**
- Control total sobre la implementación
- Flexibilidad máxima para sistemas complejos
- Sin costos de licencia
- Fácil integración con análisis de datos (Pandas, Jupyter)
- Ideal para investigación y prototipado

**Desventajas:**
- Requiere conocimientos de programación
- No incluye animación visual por defecto
- Mayor tiempo de desarrollo inicial
- Curva de aprendizaje pronunciada

#### MATLAB con SimEvents

**SimEvents** es un toolbox de MATLAB para simulación de eventos discretos.

**Características:**
- Integración con Simulink
- Interfaz gráfica de bloques
- Análisis estadístico integrado

**Cuándo usar:**
- Sistemas que combinan eventos discretos y dinámicas continuas
- Entornos académicos con licencias MATLAB
- Necesidad de análisis matemático avanzado

#### C/C++ con librerías especializadas

**Ejemplos:** OMNeT++, ns-3 (para redes)

**Ventajas:**
- Máximo rendimiento computacional
- Ideal para simulaciones masivas (millones de eventos)

**Desventajas:**
- Complejidad de desarrollo
- Tiempo de implementación largo

---

### 2. Lenguajes de Simulación Especializados

Diseñados específicamente para simulación de eventos discretos.

#### GPSS (General Purpose Simulation System)

**Historia:** Desarrollado por IBM en 1961, uno de los primeros lenguajes de simulación.

**Paradigma:** Orientado a transacciones (entidades que fluyen por bloques).

**Ejemplo de código GPSS:**

```
GENERATE 10,5    ; Generar entidades cada 10±5 unidades de tiempo
QUEUE Cola1      ; Entrar a la cola
SEIZE Servidor   ; Tomar el servidor
DEPART Cola1     ; Salir de la cola
ADVANCE 8,3      ; Tiempo de servicio 8±3
RELEASE Servidor ; Liberar servidor
TERMINATE        ; Salir del sistema
```

**Características:**
- Sintaxis declarativa simple
- Estadísticas automáticas de colas
- Ideal para sistemas de manufactura clásicos

**Estado actual:** Mayormente histórico, reemplazado por software moderno.

#### SIMSCRIPT

**Paradigma:** Orientado a eventos (programar eventos futuros).

**Características:**
- Lenguaje de alto nivel similar a FORTRAN
- Muy flexible para sistemas complejos
- Usado en defensa y logística

---

### 3. Simuladores Comerciales (Software Visual)

Herramientas con interfaz gráfica drag-and-drop.

#### Arena (Rockwell Automation)

**Descripción:** El software de simulación más usado en manufactura y servicios.

**Características:**
- Interfaz visual con módulos predefinidos
- Animación 2D/3D integrada
- Análisis estadístico automático (Input Analyzer, Output Analyzer)
- Optimización integrada (OptQuest)

**Módulos principales:**
- **Create:** Generación de entidades
- **Process:** Estaciones de servicio
- **Decide:** Puntos de decisión
- **Assign:** Asignación de atributos
- **Record:** Recolección de estadísticas
- **Dispose:** Salida del sistema

**Ventajas:**
- Desarrollo rápido de modelos
- Animación impresionante para presentaciones
- Reportes automáticos profesionales
- Amplia comunidad y soporte

**Desventajas:**
- Costo de licencia elevado (~$5,000-$10,000 USD/año)
- Menos flexible que programación para lógicas complejas
- Curva de aprendizaje del software específico

**Aplicaciones típicas:**
- Líneas de producción
- Centros de llamadas
- Hospitales y clínicas
- Cadenas de suministro

#### ProModel

**Enfoque:** Manufactura y logística.

**Características:**
- Modelado 3D realista
- Optimización de layouts
- Análisis de capacidad

**Diferenciador:** Excelente para simulación de almacenes y distribución.

#### FlexSim

**Enfoque:** Simulación 3D de alta fidelidad.

**Características:**
- Motor 3D avanzado
- Librería extensa de objetos (montacargas, racks, conveyors)
- Scripting en FlexScript (similar a C++)

**Ventajas:**
- Visualización 3D impresionante
- Ideal para presentaciones ejecutivas
- Buena para diseño de layouts

#### AnyLogic

**Descripción:** Plataforma multiparadigma única.

**Paradigmas soportados:**
1. **Eventos discretos** (DES)
2. **Dinámica de sistemas** (SD)
3. **Agentes** (ABM)

**Características únicas:**
- Puede combinar los 3 paradigmas en un modelo
- Programación en Java integrada
- Simulación de peatones y tráfico
- Exportación a aplicaciones web

**Ventajas:**
- Máxima flexibilidad
- Ideal para sistemas complejos multi-nivel
- Versión gratuita (Personal Learning Edition)

**Aplicaciones:**
- Cadenas de suministro globales
- Epidemiología (propagación de enfermedades)
- Sistemas sociales
- Logística urbana

#### Simul8

**Enfoque:** Simulación rápida y fácil.

**Características:**
- Interfaz muy intuitiva
- Curva de aprendizaje corta
- Ideal para consultores

---

## Tabla Comparativa de Herramientas

| Herramienta | Tipo | Costo | Curva Aprendizaje | Flexibilidad | Animación | Mejor Para |
|-------------|------|-------|-------------------|--------------|-----------|------------|
| **SimPy** | Librería Python | Gratis | Media | Muy Alta | No | Investigación, prototipado |
| **Arena** | Software Visual | Alta | Media | Media | Excelente | Manufactura, servicios |
| **AnyLogic** | Multiparadigma | Media-Alta | Alta | Muy Alta | Excelente | Sistemas complejos |
| **FlexSim** | Software 3D | Alta | Media | Media | Excelente | Logística, almacenes |
| **ProModel** | Software Visual | Alta | Media | Media | Buena | Manufactura |
| **Simul8** | Software Visual | Media | Baja | Media | Buena | Consultoría rápida |
| **MATLAB** | Lenguaje | Alta | Alta | Muy Alta | Media | Sistemas híbridos |

---

## Criterios de Selección

### 1. Complejidad del Sistema

**Sistemas simples** (colas M/M/1, inventarios básicos):
- Arena, Simul8, SimPy

**Sistemas complejos** (lógica compleja, múltiples niveles):
- AnyLogic, SimPy, MATLAB

**Sistemas masivos** (millones de eventos):
- C++, SimPy optimizado

### 2. Presupuesto

**Sin presupuesto:**
- SimPy (Python)
- AnyLogic Personal Learning Edition
- GPSS/H Student Version

**Presupuesto limitado ($1,000-$5,000):**
- Simul8
- AnyLogic Professional

**Presupuesto amplio ($5,000+):**
- Arena
- FlexSim
- ProModel

### 3. Tiempo Disponible

**Desarrollo rápido (días):**
- Software visual (Arena, Simul8)

**Desarrollo medio (semanas):**
- AnyLogic, SimPy

**Desarrollo largo (meses):**
- C++, MATLAB

### 4. Experiencia del Equipo

**Programadores:**
- SimPy, MATLAB, C++

**Analistas de negocio:**
- Arena, Simul8, ProModel

**Equipos mixtos:**
- AnyLogic (combina visual y código)

### 5. Requerimientos de Presentación

**Solo resultados numéricos:**
- SimPy, MATLAB

**Animación 2D:**
- Arena, Simul8

**Animación 3D realista:**
- FlexSim, AnyLogic

---

## Caso de Estudio: Selección de Herramienta

### Escenario

**Empresa:** Planta automotriz que quiere simular su línea de ensamble.

**Requerimientos:**
- Modelar 15 estaciones de trabajo
- 3 tipos de productos
- Analizar cuellos de botella
- Presentar resultados a directivos

**Restricciones:**
- Presupuesto: $8,000 USD
- Tiempo: 2 meses
- Equipo: 1 ingeniero industrial (sin programación)

### Análisis

**Opciones consideradas:**

1. **SimPy:**
   - ✅ Gratis
   - ❌ Requiere programación
   - ❌ Sin animación

2. **Arena:**
   - ✅ Ideal para manufactura
   - ✅ Animación excelente
   - ✅ Dentro del presupuesto
   - ✅ No requiere programación
   - ✅ Reportes automáticos

3. **FlexSim:**
   - ✅ Animación 3D impresionante
   - ⚠️ Costo similar a Arena
   - ⚠️ Curva de aprendizaje mayor

### Decisión: Arena

**Justificación:**
- Estándar de la industria automotriz
- Animación suficiente para presentaciones
- Curva de aprendizaje manejable
- Soporte y documentación extensos

---

## Tendencias Futuras

### 1. Simulación en la Nube

**Plataformas:**
- AnyLogic Cloud
- SimScale (CFD/FEA)

**Ventajas:**
- Sin instalación local
- Escalabilidad automática
- Colaboración en tiempo real

### 2. Integración con IA/ML

**Aplicaciones:**
- Optimización automática de parámetros
- Predicción de resultados
- Generación automática de modelos

### 3. Digital Twins

**Concepto:** Réplica digital en tiempo real de sistemas físicos.

**Herramientas:**
- AnyLogic + IoT
- MATLAB Simulink
- Plataformas industriales (Siemens, GE)

---

## Ejercicios Prácticos

### Ejercicio 1: Análisis de Herramientas

Investigue 3 herramientas de simulación y complete la tabla:

| Criterio | Herramienta 1 | Herramienta 2 | Herramienta 3 |
|----------|---------------|---------------|---------------|
| Costo | | | |
| Paradigma | | | |
| Industrias principales | | | |
| Versión gratuita | | | |

### Ejercicio 2: Selección de Herramienta

Para cada escenario, recomiende una herramienta y justifique:

**a) Startup tecnológica:**
- Presupuesto: $0
- Sistema: Simulación de servidores web
- Equipo: Programadores Python

**b) Hospital:**
- Presupuesto: $10,000
- Sistema: Flujo de pacientes en emergencias
- Equipo: Médicos y administradores (sin programación)

---

## Recursos Adicionales

### Tutoriales en Línea

**SimPy:**
- Documentación oficial: https://simpy.readthedocs.io
- Curso Udemy: "Discrete Event Simulation with SimPy"

**Arena:**
- Rockwell University
- YouTube: "Arena Simulation Examples"

**AnyLogic:**
- AnyLogic Cloud (modelos de ejemplo)
- Curso Coursera: "Simulation and Modeling"

### Comunidades

- **SimPy:** Stack Overflow, GitHub
- **Arena:** Arena User Forum
- **AnyLogic:** AnyLogic Community

---

## Resumen

**Decisión clave:** La elección de herramienta debe balancear:
1. Complejidad del sistema
2. Presupuesto disponible
3. Experiencia del equipo
4. Tiempo de desarrollo
5. Requerimientos de presentación

**Recomendación general:**
- **Estudiantes/Investigadores:** SimPy
- **Industria (manufactura/servicios):** Arena
- **Sistemas complejos:** AnyLogic
- **Logística 3D:** FlexSim

---

*Referencia: Programa SCD-1022 - TecNM*
*Fuentes: Banks et al. (2010), Law (2015), Documentación oficial de herramientas*


---

<div align="center">

⬅️ [Inicio Unidad 4](README.md) &nbsp;&nbsp;|&nbsp;&nbsp; [4.2 Aprendizaje](4.2.md) ➡️

</div>
